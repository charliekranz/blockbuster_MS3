{% extends "base.html" %}
{% block content %}



    <h3 class="text-center purple-text title-text"><i class="fas fa-video"></i> Build a Block+Buster</h3>
    <!-- story -->

    <div class="row card build-card card-padding">
        <div class="body">


        <form class="col s12" method="POST" action="{{ url_for('add_story') }}">
            <h3 class="build-title purple-text"><i class="fas fa-puzzle-piece prefix"></i>
                 Build the Story</h3> 

        <div class="row">
        <!-- character -->
                <div class="input-field col-12 ">
                    <select id="character_name" name="character_name" class="validate form-control" required>
                        <option value="" disabled selected>Choose Character/s</option>
                            {% for character in characters %}
                                 <option value="{{ character.character_name }}">{{ character.character_name }}</option>
                            {% endfor %}
                    </select>
                </div>

                <!-- plot -->
                <div class="input-field col-12 ">
                     <select id="plot_name" name="plot_name" class="validate form-control" required>
                         <option value="" disabled selected>Pick Plot</option>
                            {% for plot in plots %}
                                 <option value="{{ plot.plot_name }}">{{ plot.plot_name }}</option>
                            {% endfor %}
                    </select>
                </div>

                <!-- resolution -->
                <div class="input-field col-12">
                     <select id="resolution_name" name="resolution_name" class="validate form-control" required>
                         <option value="" disabled selected>Choose Resolution</option>
                            {% for resolution in resolutions %}
                                 <option value="{{ resolution.resolution_name }}">{{ resolution.resolution_name }}</option>
                            {% endfor %}
                    </select>
                </div>
            
                <!-- setting -->
                <div class="input-field col-12">
                     <select id="setting_name" name="setting_name" class="validate form-control" required>
                         <option value="" disabled selected>Select Setting</option>
                            {% for setting in settings %}
                                 <option value="{{ setting.setting_name }}">{{ setting.setting_name }}</option>
                            {% endfor %}
                    </select>
                </div>

                <!-- randomize -->
                <div class="container">
                <div class="row">
                    <div class="col text-center">
                            <span>
                            <button type="button" value="Randomize" class="btn btn-light btn-sm form-control text-center" onclick="clickme();">
                                <h5 class="purple-button"><i class="fas fa-random"></i> Randomize The Story</h5>
                            </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>


            <!-- title-->
            <div class="row">
                  <div class="form-group col m8 s12">
                <h3 class="build-title purple-text"><i class="fas fa-pencil-alt purple-title"></i>
                    Write the Title</h3>
                        <input id="title_name" name="title_name" minlength="3"
                        maxlength="80" type="text" class="input-field form-control validate" required>
                    <!--<label for="title_name">Title of Block+Buster</label>-->
                </div>
                <!-- genre -->
                <div class="input-field col m4 s12">
                    <h3 class="build-title purple-text"><i class="fas fa-theater-masks purple-text darken-4"></i> 
                        Choose a Genre</h3>
                    <div class="input-field">
                            <select id="genre_name" name="genre_name" class="form-control validate" required>
                                <option value="" disabled selected>Genre</option>
                                {% for genre in genres %}
                                    <option value="{{ genre.genre_name }}">{{ genre.genre_name }}</option>
                                {% endfor %}
                            </select>
                         <!-- <label for="genre_name">Pick a Genre </label> */ -->
                    </div>
                </div>
            </div>
            <!-- cast -->


             <h3 class="text-center purple-text title-text"><i class="fas fa-users prefix purple-text darken-4"></i> 
                    Select the Cast</h3>
             <div class="row">
                    {% for cast in casts %}
                        <div class="col-xl-2 col-lg-2 col-md-3 col-sm-4 col-6">
                        <label class ="cast_url">
                            <input value="{{ cast.cast_url }}" name="cast_url" id="cast_url" type="hidden" multiple  />
                            <img class="materialboxed" width="100%" src="{{ cast.cast_url }}">
                        </label>
                            <p> 
                                <label class="cast-name ">
                                    <input value="{{ cast._id }}" name="cast_id" id="cast_id" type="checkbox" multiple class="form-control validate"  />
                                    <span>{{ cast.cast_name }}</span>
                                </label>
                            </p>
                        </div>
                    {% endfor %}
            </div>


<!--<div class="row">
               <h5><i class="fas fa-users prefix purple-text darken-4"></i> 
                        Select the Cast</h5>
                <div class="input-field col-12">
                        <div class="input-field">
                                <select icons multiple id="cast_name" name="cast_name" class="validate" required>
                                    <option value="" disabled selected>Cast</option>
                                    {% for cast in casts %}
                                        <option value="{{ cast.cast_name }}" data-icon="/images/charlize-theron.jpg" class="left">{{ cast.cast_name }}</option>
                                    {% endfor %}
                                </select>-->
                            <!-- <label for="genre_name">Pick a Genre </label> */ 
                        </div>
                    </div>
                </div>
            </div> -->

            

            <!--<div class="row">
                <h5><i class="fas fa-users prefix purple-text darken-4"></i> 
                    Select the Cast</h5>
                <div class="input-field">
                <p>
                    <label>
                        <input id="cast_name" name="cast_name" type="radio" class="validate" required>
                        <span>
                            {% for cast in casts %}
                                    <option value="{{ cast.cast_name }}">{{ cast.cast_name }}</option>
                                {% endfor %}
                        </span>
                        </input>
                        </label>
                    </label>
                </p>
            </div>
            </div>-->



            <!-- submit button -->
            <div class="row">
                <div class="col-s12 center-align">
                    <button type="submit" class="btn-large purple accent-3 darken-4">
                        <i class="fas fa-video"></i> Publish
                    </button>
                </div>
            </div>
        </form>
    </div>
    </div>


{% endblock %}